<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="NingBo"><meta name="description" conauthortent="宁勃的博客"><link rel="alternative" href="/atom.xml" title="I am NingBo" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>cssnext 语法说明 - I am NingBo</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">I am NingBo</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-02-17T03:41:07.000Z">二月 17, 2017</time><h1 class="post__title"><a href="/2017/02/17/cssnext/">cssnext 语法说明</a></h1><div class="post__main echo"><h1 id="cssnext-语法说明"><a href="#cssnext-语法说明" class="headerlink" title="cssnext 语法说明"></a>cssnext 语法说明</h1><p>支持书写CSS未来语法的插件，文章整理了支持PostCSS的常用语法</p>
<ul>
<li>自定义属性 &amp; <code>var()</code></li>
<li>自定义属性集 &amp; <code>@apply</code></li>
<li><code>calc()</code> &amp; <code>var()</code></li>
<li>媒体查询 &amp; <code>@custom-media</code></li>
<li>自定义选择器 &amp; <code>@custom-selector</code></li>
<li>嵌套 &amp; <code>&amp;</code></li>
<li>color()</li>
</ul>
<hr>
<h2 id="自定义属性-amp-var"><a href="#自定义属性-amp-var" class="headerlink" title="自定义属性 &amp; var()"></a>自定义属性 &amp; <code>var()</code></h2><p>在 <code>:root{}</code> 中定义常用属性，使用<code>--</code>前缀命名变量<br>使用 <code>var()</code> 调用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-pseudo">:root</span>&#123;</div><div class="line">	<span class="attribute">--mainColor</span>: red;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">color</span>: <span class="built_in">var</span>(--mainColor);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="自定义属性集-amp-apply"><a href="#自定义属性集-amp-apply" class="headerlink" title="自定义属性集 &amp; @apply"></a>自定义属性集 &amp; <code>@apply</code></h2><p>在 <code>:root{}</code> 中定义属性集，使用 <code>--</code> 前缀命名属性集变量名<br>使用 <code>@apply</code> 进行调用<br>在 <code>http://cssnext.io/playground/</code> 在线测试有效</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">:root &#123;</div><div class="line">  --centered: &#123;</div><div class="line">    display: flex;</div><div class="line">    align-items: center;</div><div class="line">    justify-content: center;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.centered &#123;</div><div class="line">  @apply --centered;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.centered</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-box;</div><div class="line">  <span class="attribute">display</span>: -ms-flexbox;</div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line">  <span class="attribute">-webkit-box-align</span>: center;</div><div class="line">      <span class="attribute">-ms-flex-align</span>: center;</div><div class="line">          <span class="attribute">align-items</span>: center;</div><div class="line">  <span class="attribute">-webkit-box-pack</span>: center;</div><div class="line">      <span class="attribute">-ms-flex-pack</span>: center;</div><div class="line">          <span class="attribute">justify-content</span>: center;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="calc-amp-var"><a href="#calc-amp-var" class="headerlink" title="calc() &amp; var()"></a><code>calc()</code> &amp; <code>var()</code></h2><p>使自定义属性支持 <code>calc()</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-pseudo">:root</span>&#123;</div><div class="line">	<span class="attribute">--fontSize</span>: <span class="number">1rem</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">h1</span>&#123;</div><div class="line">	<span class="attribute">font-size</span>: <span class="built_in">calc</span>(var(--fontSize)*<span class="number">2</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span>&#123;</div><div class="line">	<span class="attribute">font-size</span>: <span class="built_in">calc</span>(1rem*2);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="媒体查询-amp-custom-media"><a href="#媒体查询-amp-custom-media" class="headerlink" title="媒体查询 &amp; @custom-media"></a>媒体查询 &amp; <code>@custom-media</code></h2><p>支持使用<code>&lt;=</code>,<code>&gt;=</code>;代码在css最后<br><strong>注意：变量名和括号之间保留空格</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">custom</span>-<span class="keyword">media</span> --small-viewport (max-width: <span class="number">30em</span>);</div><div class="line">@<span class="keyword">media</span> (--small-viewport)&#123;</div><div class="line">	<span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="number">10rem</span>;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">media</span> (max-width: <span class="number">30em</span>)&#123;</div><div class="line">	<span class="selector-tag">body</span>&#123;</div><div class="line">		<span class="attribute">font-size</span>: <span class="number">10rem</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">custom</span>-<span class="keyword">media</span> --viewport-medium (width &lt;= <span class="number">50rem</span>);</div><div class="line">@<span class="keyword">media</span> (--viewport-medium) &#123;</div><div class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="built_in">calc</span>(var(--fontSize) * <span class="number">1.2</span>); &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@media (max-width: 50rem)&#123;</div><div class="line">	body&#123;</div><div class="line">		font-size: calc(1rem * 1.2);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">media</span> (width &gt;= <span class="number">500px</span>) and (width &lt;= <span class="number">1200px</span>)&#123;</div><div class="line">	<span class="selector-tag">body</span>&#123;</div><div class="line">		<span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后结果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">500px</span>) and (max-width: <span class="number">1200px</span>)&#123;</div><div class="line">	<span class="selector-tag">body</span>&#123;</div><div class="line">		<span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="自定义选择器-amp-custom-selector"><a href="#自定义选择器-amp-custom-selector" class="headerlink" title="自定义选择器 &amp; @custom-selector"></a>自定义选择器 &amp; <code>@custom-selector</code></h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">custom</span>-<span class="keyword">selector</span> :--button button, .button;</div><div class="line">@<span class="keyword">custom</span>-<span class="keyword">selector</span> :--enter :hover, :focus;</div><div class="line">@<span class="keyword">custom</span>-<span class="keyword">selector</span> :--heading h1, h2, h3, h4, h5, h6;</div><div class="line"></div><div class="line"><span class="selector-pseudo">:--button</span>&#123;</div><div class="line">	<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> black;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:--enter</span>&#123;</div><div class="line">	<span class="attribute">color</span>: black;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-pseudo">:--heading</span> &#123; </div><div class="line">	<span class="attribute">margin-top</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">button, .button&#123;</div><div class="line">	box-shadow: 0 0 1px black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">a:hover, a:focus&#123;</div><div class="line">	color: black;</div><div class="line">&#125;</div><div class="line"></div><div class="line">h1, h2, h3, h4, h5, h6 &#123; </div><div class="line">	margin-top: 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="嵌套-amp-amp"><a href="#嵌套-amp-amp" class="headerlink" title="嵌套 &amp; &amp;"></a>嵌套 &amp; <code>&amp;</code></h2><p><code>@nest selector &amp;</code> 外层嵌套<br>支持嵌套媒体查询</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">a&#123;</div><div class="line">	&amp; span&#123;</div><div class="line">		color: white;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	@nest span &amp;&#123;</div><div class="line">		color: blue;</div><div class="line">	&#125;</div><div class="line">	/*嵌套@media*/</div><div class="line">	@media (min-width: 30rem)&#123;</div><div class="line">		color: yellow;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span> <span class="selector-tag">span</span>&#123;</div><div class="line">	<span class="attribute">color</span>: white;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">span</span> <span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">color</span>: blue;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">30em</span>) &#123;</div><div class="line">    <span class="selector-tag">a</span>&#123;</div><div class="line">    	<span class="attribute">color</span>: yellow</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="color"><a href="#color" class="headerlink" title="color()"></a>color()</h2><p>更多颜色修饰：<a href="https://github.com/postcss/postcss-color-function#list-of-color-adjuster" target="_blank" rel="external">https://github.com/postcss/postcss-color-function#list-of-color-adjuster</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">color</span>: <span class="built_in">color</span>(red alpha(-10%));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</div><div class="line">	<span class="attribute">color</span>: <span class="built_in">color</span>(red blackness(80%));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>编译后样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">color</span>: <span class="number">#ff0000</span>;</div><div class="line">	<span class="attribute">color</span>: <span class="built_in">rgba</span>(255, 0, 0, 0.9);</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</div><div class="line">	<span class="attribute">color</span>: <span class="built_in">rgb</span>(51, 0, 0);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>更多语法规则：<a href="http://cssnext.io/" target="_blank" rel="external">http://cssnext.io/</a><br>文章源码下载：<a href="https://github.com/NalvyBoo/PostCSS-Comn/tree/master/cssnext" target="_blank" rel="external">https://github.com/NalvyBoo/PostCSS-Comn/tree/master/cssnext</a></p>
</div></header></article><section class="reward"> <a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8zMDA5Mi82NjQ3"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2017 NingBo</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>