<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="NingBo"><meta name="description" conauthortent="宁勃的博客"><link rel="alternative" href="/atom.xml" title="NingBo'Blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>ES6-03 变量的解构赋值 - NingBo'Blog</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">NingBo'Blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-03-16T03:21:31.000Z">三月 16, 2017</time><h1 class="post__title"><a href="/2017/03/16/variate/">ES6-03 变量的解构赋值</a></h1><div class="post__main echo"><p>原文链接：<a href="http://es6.ruanyifeng.com/#docs/destructuring" target="_blank" rel="external">http://es6.ruanyifeng.com/#docs/destructuring</a><br>源码地址：<a href="https://github.com/NalvyBoo/nodesES6/tree/master/ES6-03-%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC" target="_blank" rel="external">https://github.com/NalvyBoo/nodesES6</a></p>
<hr>
<h2 id="数组的解构赋值"><a href="#数组的解构赋值" class="headerlink" title="数组的解构赋值"></a>数组的解构赋值</h2><p>ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为<strong>解构</strong>（Destructuring）  </p>
<p>常规赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</div><div class="line"><span class="keyword">let</span> c = <span class="number">3</span>;</div></pre></td></tr></table></figure>
<p>ES6 允许从数组中提取值，按照对应位置，对变量赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [d,e,f] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"></div><div class="line"><span class="keyword">let</span> [foo,[[bar],baz]] = [<span class="number">1</span>,[[<span class="number">2</span>],<span class="number">3</span>]];</div><div class="line"><span class="built_in">console</span>.log(foo,bar,baz); <span class="comment">//1 2 3</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [ , , third] = [<span class="string">"foo"</span>,<span class="string">"bar"</span>,<span class="string">"baz"</span>];</div><div class="line"><span class="built_in">console</span>.log(third);</div><div class="line"></div><div class="line"><span class="keyword">let</span> [x,,y] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="built_in">console</span>.log(x,y); <span class="comment">//1 3</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [head,...tail] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="built_in">console</span>.log(head,tail); <span class="comment">// 1 [2,3,4]</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x0,y0,...z0] = [<span class="string">'a'</span>];</div><div class="line"><span class="built_in">console</span>.log(x0,y0,z0); <span class="comment">//a undefined []</span></div><div class="line"></div><div class="line"><span class="keyword">let</span>[fo] = [];</div><div class="line"><span class="built_in">console</span>.log(fo); <span class="comment">//undefined</span></div><div class="line"></div><div class="line"><span class="keyword">let</span>[ba0,fo0] = [<span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(ba0,fo0); <span class="comment">//1 undefined</span></div></pre></td></tr></table></figure>
<p>如果等号的右边不是数组（或者严格地说，不是可遍历的结构），那么将会报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 报错</span></div><div class="line"><span class="keyword">let</span> [foo] = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">false</span>;</div><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">NaN</span>;</div><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">undefined</span>;</div><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">null</span>;</div><div class="line"><span class="keyword">let</span> [foo] = &#123;&#125;;</div></pre></td></tr></table></figure>
<p>Set 结构也可以使用数组的解构赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span>[x1,y1,z1] = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]);</div><div class="line"><span class="built_in">console</span>.log(x1); <span class="comment">//a</span></div></pre></td></tr></table></figure>
<p>事实上，只要某种数据结构具有 Iterator 接口，都可以采用数组形式的解构赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fibs</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> a = <span class="number">0</span>;</div><div class="line">	<span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">		<span class="keyword">yield</span> a;</div><div class="line">		[a,b] = [b, a+b];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> [first,second,third0,fourth,fifth,sixth] = fibs();</div><div class="line"><span class="built_in">console</span>.log(sixth); <span class="comment">//5</span></div></pre></td></tr></table></figure>
<p>默认值：解构赋值允许指定默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [foo1 = <span class="literal">true</span>] = [];</div><div class="line"><span class="built_in">console</span>.log(foo1); <span class="comment">//true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x2,y2 = <span class="string">'b'</span>] = [<span class="string">'a'</span>]; </div><div class="line"><span class="built_in">console</span>.log(x2,y2); <span class="comment">//a,b</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x3,y3 = <span class="string">'d'</span>] = [<span class="string">'c'</span>,<span class="literal">undefined</span>];</div><div class="line"><span class="built_in">console</span>.log(x3,y3); <span class="comment">//c,d</span></div></pre></td></tr></table></figure>
<p>ES6内部使用严格相等运算符（===）来判断一个位置是否有值<br>如果一个数组成员不严格等于 undefined ,默认值是不会生效的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [x4 = <span class="number">4</span>] = [<span class="literal">undefined</span>];</div><div class="line"><span class="built_in">console</span>.log(x4); <span class="comment">//4</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x5 = <span class="number">1</span>] = [<span class="literal">null</span>];</div><div class="line"><span class="built_in">console</span>.log(x5); <span class="comment">//null null不严格等于undefined</span></div></pre></td></tr></table></figure>
<p>如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ff</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">"aaa"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> [x6 = ff()] = [<span class="number">6</span>];</div><div class="line"><span class="built_in">console</span>.log(x6); <span class="comment">//6</span></div></pre></td></tr></table></figure>
<p>默认值可以引用解构赋值的其他变量，但该变量必须已经声明</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [x7 = <span class="number">7</span>,y7 = x7] = [];</div><div class="line"><span class="built_in">console</span>.log(x7,y7); <span class="comment">//7 7</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x8 = <span class="number">8</span>,y8 = x8] = [<span class="number">8</span>];</div><div class="line"><span class="built_in">console</span>.log(x8,y8); <span class="comment">//8 8</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x9 = y9,y9 = <span class="number">9</span>] = []; <span class="comment">//y9 is not defined</span></div></pre></td></tr></table></figure>
<h2 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值"></a>对象的解构赋值</h2><p>对象的属性没有次序，必须与属性同名，才能取到正确的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; f2, b2 &#125; = &#123; <span class="attr">f2</span>:<span class="string">"aaa"</span>,<span class="attr">b2</span>:<span class="string">"bbb"</span> &#125;;</div><div class="line"><span class="built_in">console</span>.log(f2,b2); <span class="comment">// aaa bbb</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; b3 &#125; = &#123; <span class="attr">f3</span>:<span class="string">"f3"</span>, <span class="attr">b33</span>:<span class="string">"b33"</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(b3); <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>如果变量名与属性名不一致，必须写成下面这样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">ofirst</span>:<span class="string">"hello"</span>, <span class="attr">last</span>:<span class="string">"world"</span> &#125;;</div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">ofirst</span>: <span class="keyword">of</span>, <span class="attr">last</span>: l &#125; = obj;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">of</span>,l); <span class="comment">// hello world</span></div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line">和数组一样，解构也可以用于嵌套解构的对象</div><div class="line"></div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="keyword">let</span> obj2 = &#123;</div><div class="line">	<span class="attr">p</span>:[</div><div class="line">	<span class="string">'hello'</span>,</div><div class="line">	&#123; <span class="attr">y10</span>: <span class="string">'world'</span>&#125;</div><div class="line">	]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">p</span>:[x10, &#123; y10 &#125;] &#125; = obj2;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(x10,y10); <span class="comment">//hello world</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj3 = &#123;&#125;;</div><div class="line"><span class="keyword">let</span> arr = [];</div><div class="line">(&#123; <span class="attr">foo2</span>: obj3.prop, <span class="attr">b4</span>: arr[<span class="number">0</span>] &#125; = &#123; <span class="attr">foo2</span>: <span class="number">123</span>, <span class="attr">b4</span>: <span class="literal">true</span> &#125;);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(obj3,arr);<span class="comment">//Object &#123;prop: 123&#125; [true]</span></div></pre></td></tr></table></figure>
<p>对象的解构也可以指定默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123; <span class="attr">x11</span>: y11 = <span class="number">11</span> &#125; = &#123;&#125;;</div><div class="line"><span class="built_in">console</span>.log(y11); <span class="comment">//11</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> &#123; <span class="attr">x12</span>: y12 = <span class="number">1</span>&#125; = &#123; <span class="attr">x12</span>: <span class="number">12</span> &#125;;</div><div class="line"><span class="built_in">console</span>.log(y12); <span class="comment">// 12</span></div></pre></td></tr></table></figure>
<p>如果解构失败，变量的值等于 undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; foo3 &#125; = &#123; <span class="attr">bar3</span>: <span class="string">'baz'</span> &#125;;</div><div class="line"><span class="built_in">console</span>.log(foo3); <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<p>如果解构模式是嵌套的对象，而且子对象所在的父属性不存在，那么将报错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; <span class="attr">foo4</span>: &#123; bar4 &#125; &#125; = &#123; <span class="attr">bar4</span>: <span class="string">"bar4"</span> &#125;;<span class="comment">// Uncaught TypeError: Cannot match against 'undefined' or 'null'.</span></div></pre></td></tr></table></figure>
<h2 id="字符串的解构赋值"><a href="#字符串的解构赋值" class="headerlink" title="字符串的解构赋值"></a>字符串的解构赋值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> [aa,bb,cc,dd,ee] = <span class="string">'hello'</span>;</div><div class="line"><span class="built_in">console</span>.log(aa,bb,cc,dd,ee); <span class="comment">//h e l l o</span></div></pre></td></tr></table></figure>
<p>类似数组的对象都有一个length属性，因此还可以对这个属性解构赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; <span class="attr">length</span>: len &#125; = <span class="string">'hello'</span>;</div><div class="line"><span class="built_in">console</span>.log(len); <span class="comment">//5</span></div></pre></td></tr></table></figure>
<h2 id="数值和布尔值的解构赋值"><a href="#数值和布尔值的解构赋值" class="headerlink" title="数值和布尔值的解构赋值"></a>数值和布尔值的解构赋值</h2><p>解构赋值是，如果等号右边是数值和布尔值，则会先转为对象<br>解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象<br>由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; <span class="attr">toString</span>: s &#125; = <span class="number">123</span>;</div><div class="line"><span class="built_in">console</span>.log(s,s === <span class="built_in">Number</span>.prototype.toString);<span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">toString</span>: s0 &#125; = <span class="literal">true</span>;</div><div class="line"><span class="built_in">console</span>.log(s0,s0 === <span class="built_in">Boolean</span>.prototype.toString);<span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">prop</span>:x14 &#125; = <span class="literal">undefined</span>; <span class="comment">//TypeError</span></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">prop</span>:x15 &#125; = <span class="literal">null</span>; <span class="comment">//TypeError</span></div></pre></td></tr></table></figure>
<h2 id="函数参数的解构赋值"><a href="#函数参数的解构赋值" class="headerlink" title="函数参数的解构赋值"></a>函数参数的解构赋值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">[x,y]</span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> x + y;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(add([<span class="number">1</span>,<span class="number">2</span>]));<span class="comment">//3</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> [x,y];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(move(&#123;<span class="attr">x</span>:<span class="number">3</span>,<span class="attr">y</span>:<span class="number">8</span>&#125;));<span class="comment">// [3,8]</span></div><div class="line"><span class="built_in">console</span>.log(move(&#123;<span class="attr">x</span>:<span class="number">3</span>&#125;));<span class="comment">// [3,0]</span></div><div class="line"><span class="built_in">console</span>.log(move(&#123;&#125;));<span class="comment">// [0,0]</span></div><div class="line"><span class="built_in">console</span>.log(move());<span class="comment">// [0,0]</span></div></pre></td></tr></table></figure>
<h2 id="不能使用圆括号的情况"><a href="#不能使用圆括号的情况" class="headerlink" title="不能使用圆括号的情况"></a>不能使用圆括号的情况</h2><p>变量声明语句中，不能带有圆括号<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Unexpected token (</span></div><div class="line"><span class="keyword">let</span> [(a)] = [<span class="number">1</span>]; </div><div class="line"><span class="keyword">let</span> &#123;<span class="attr">x</span>:(c)&#125; = &#123;&#125;;</div><div class="line"><span class="keyword">let</span> &#123;&#123;<span class="attr">x</span>:c&#125;&#125; = &#123;&#125;;</div><div class="line"><span class="keyword">let</span> &#123;(x:c)&#125; = &#123;&#125;;</div><div class="line"><span class="keyword">let</span> &#123;(x):c&#125; = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">o</span>: (&#123; <span class="attr">p</span>:p &#125;) &#125; = &#123; <span class="attr">o</span>: &#123; <span class="attr">p</span>:<span class="number">2</span> &#125; &#125;;</div></pre></td></tr></table></figure></p>
<p>函数参数中，模式不能带有圆括号<br>函数参数也属于变量声明，因此不能带有圆括号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Unexpected token (</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[(z</span>)]) </span>&#123; <span class="keyword">return</span> z; &#125;</div></pre></td></tr></table></figure>
<p>赋值语句中，不能将整个模式，或嵌套模式中的一层，放在圆括号之中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(&#123; <span class="attr">p</span>:a &#125;) = &#123; <span class="attr">p</span>:<span class="number">42</span> &#125;;</div><div class="line">[(&#123; <span class="attr">p</span>:a &#125;),&#123; <span class="attr">x</span>:c &#125;] = [&#123;&#125;,&#123;&#125;];</div><div class="line">[(&#123; <span class="attr">p</span>:a &#125;),&#123; <span class="attr">x</span>:c &#125;] = [&#123;&#125;,&#123;&#125;];</div></pre></td></tr></table></figure>
<p>可以使用圆括号的情况：赋值语句的非模式部分，可以使用圆括号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> b5;</div><div class="line">[(b5)] = [<span class="number">5</span>];</div><div class="line">(&#123; <span class="attr">p</span>: (d) &#125; = &#123;&#125;) ;</div><div class="line">[(<span class="built_in">parseInt</span>.prop)] = [<span class="number">3</span>];</div></pre></td></tr></table></figure>
<h2 id="变量解构赋值的用途"><a href="#变量解构赋值的用途" class="headerlink" title="变量解构赋值的用途"></a>变量解构赋值的用途</h2><p>交换变量的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x20 = <span class="number">12</span>;</div><div class="line"><span class="keyword">let</span> y20 = <span class="number">20</span>;</div><div class="line"></div><div class="line">[x20,y20] = [y20,x20];</div><div class="line"><span class="built_in">console</span>.log(x20,y20);<span class="comment">// 20 12</span></div></pre></td></tr></table></figure>
<p>从函数返回多个值  </p>
<p>返回一个数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> [a21,b21,c21] = example();</div><div class="line"><span class="built_in">console</span>.log(a21,b21,c21); <span class="comment">// 1 2 3</span></div></pre></td></tr></table></figure>
<p>返回一个对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span>&#123;</div><div class="line">		<span class="attr">foo4</span>: <span class="number">4</span>,</div><div class="line">		<span class="attr">bar5</span>: <span class="number">5</span></div><div class="line">	&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123;foo4,bar5&#125; = example2();</div><div class="line"><span class="built_in">console</span>.log(foo4,bar5); <span class="comment">// 4 5</span></div></pre></td></tr></table></figure>
<p>函数参数的定义：结构函数可以方便的将一组参数与变量名对应起来  </p>
<p>参数是一组有次序的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fff</span>(<span class="params">[x22,y22,z22]</span>) </span>&#123;&#125;</div><div class="line">fff([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div></pre></td></tr></table></figure>
<p>参数是一组无次序的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ffff</span>(<span class="params">&#123;x23,y23,z23&#125;</span>)</span>&#123;&#125;</div><div class="line">ffff(&#123;<span class="attr">z23</span>: <span class="number">3</span>,<span class="attr">y23</span>: <span class="number">2</span>,<span class="attr">z23</span>: <span class="number">1</span>&#125;);</div></pre></td></tr></table></figure>
<p>提取JSON数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> jsonData = &#123;</div><div class="line">	<span class="attr">id</span>: <span class="number">42</span>,</div><div class="line">	<span class="attr">status</span>: <span class="string">"OK"</span>,</div><div class="line">	<span class="attr">data</span>: [<span class="number">867</span>,<span class="number">5309</span>]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; id,status, <span class="attr">data</span>: number &#125; = jsonData;</div><div class="line"><span class="built_in">console</span>.log(id,status,number); <span class="comment">//42 "OK" [867, 5309]</span></div></pre></td></tr></table></figure>
<p>函数参数的默认值  </p>
<p>指定参数的默认值，就避免了在函数体内部再写var foo = config.foo || ‘default foo’;这样的语句</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span>(<span class="params">url,&#123;</span></span></div><div class="line">	async = true,</div><div class="line">  	beforeSend = function () &#123;&#125;,</div><div class="line">  	cache = <span class="literal">true</span>,</div><div class="line">  	complete = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">  	crossDomain = <span class="literal">false</span>,</div><div class="line">  	global = <span class="literal">true</span>,</div><div class="line">  	<span class="comment">// ... more config</span></div><div class="line">&#125;)&#123;</div><div class="line">	<span class="comment">// ... do stuff</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>遍历Map结构  </p>
<p>任何部署了Iterator接口的对象，都可以用for…of循环遍历。Map结构原生支持Iterator接口，配合变量的解构赋值，获取键名和键值就非常方便。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">map.set(<span class="string">'first'</span>, <span class="string">'hello'</span>);</div><div class="line">map.set(<span class="string">'second'</span>, <span class="string">'world'</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</div><div class="line">  <span class="built_in">console</span>.log(key + <span class="string">" is "</span> + value);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果只想获取键名，或者只想获取键值，可以写成下面这样  </p>
<p>获取键名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key] <span class="keyword">of</span> map) &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>获取键值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [,value] <span class="keyword">of</span> map) &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输入模块的指定方法<br>加载模块时，往往需要指定输入哪些方法。解构赋值使得输入语句非常清晰。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> &#123; SourceMapConsumer, SourceNode &#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</div></pre></td></tr></table></figure>
</div></header></article><section class="reward"> <a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2017 NingBo</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>